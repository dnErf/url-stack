{"version":3,"file":"app.js","sources":["../node_modules/bss/bss.esm.js","../node_modules/mithril/mithril.mjs","../src/style.js","../src/data/model-state.js","../node_modules/marked/lib/marked.js","../src/data/action-control.js","../node_modules/class-func-style/index.js","../src/components/menu.js","../src/components/util/modal/content.js","../src/components/util/modal/index.js","../src/components/util/tool-tip.js","../src/components/util/markdown-help.js","../src/components/content-list.js","../src/components/content.js","../src/index.js"],"sourcesContent":["var pseudos = [\n  ':active',\n  ':any',\n  ':checked',\n  ':default',\n  ':disabled',\n  ':empty',\n  ':enabled',\n  ':first',\n  ':first-child',\n  ':first-of-type',\n  ':fullscreen',\n  ':focus',\n  ':hover',\n  ':indeterminate',\n  ':in-range',\n  ':invalid',\n  ':last-child',\n  ':last-of-type',\n  ':left',\n  ':link',\n  ':only-child',\n  ':only-of-type',\n  ':optional',\n  ':out-of-range',\n  ':read-only',\n  ':read-write',\n  ':required',\n  ':right',\n  ':root',\n  ':scope',\n  ':target',\n  ':valid',\n  ':visited',\n\n  // With value\n  ':dir',\n  ':lang',\n  ':not',\n  ':nth-child',\n  ':nth-last-child',\n  ':nth-last-of-type',\n  ':nth-of-type',\n\n  // Elements\n  '::after',\n  '::before',\n  '::first-letter',\n  '::first-line',\n  '::selection',\n  '::backdrop',\n  '::placeholder',\n  '::marker',\n  '::spelling-error',\n  '::grammar-error'\n];\n\nvar popular = {\n  ai : 'alignItems',\n  b  : 'bottom',\n  bc : 'backgroundColor',\n  br : 'borderRadius',\n  bs : 'boxShadow',\n  bi : 'backgroundImage',\n  c  : 'color',\n  d  : 'display',\n  f  : 'float',\n  fd : 'flexDirection',\n  ff : 'fontFamily',\n  fs : 'fontSize',\n  h  : 'height',\n  jc : 'justifyContent',\n  l  : 'left',\n  lh : 'lineHeight',\n  ls : 'letterSpacing',\n  m  : 'margin',\n  mb : 'marginBottom',\n  ml : 'marginLeft',\n  mr : 'marginRight',\n  mt : 'marginTop',\n  o  : 'opacity',\n  p  : 'padding',\n  pb : 'paddingBottom',\n  pl : 'paddingLeft',\n  pr : 'paddingRight',\n  pt : 'paddingTop',\n  r  : 'right',\n  t  : 'top',\n  ta : 'textAlign',\n  td : 'textDecoration',\n  tt : 'textTransform',\n  w  : 'width'\n};\n\nvar cssProperties = ['float'].concat(Object.keys(\n  typeof document === 'undefined'\n    ? {}\n    : findWidth(document.documentElement.style)\n).filter(function (p) { return p.indexOf('-') === -1 && p !== 'length'; }));\n\nfunction findWidth(obj) {\n  return obj\n    ? obj.hasOwnProperty('width')\n      ? obj\n      : findWidth(Object.getPrototypeOf(obj))\n    : {}\n}\n\nvar isProp = /^-?-?[a-z][a-z-_0-9]*$/i;\n\nvar memoize = function (fn, cache) {\n  if ( cache === void 0 ) cache = {};\n\n  return function (item) { return item in cache\n    ? cache[item]\n    : cache[item] = fn(item); };\n};\n\nfunction add(style, prop, values) {\n  if (prop in style) // Recursively increase specificity\n    { add(style, '!' + prop, values); }\n  else\n    { style[prop] = formatValues(prop, values); }\n}\n\nvar vendorMap = Object.create(null, {});\nvar vendorValuePrefix = Object.create(null, {});\n\nvar vendorRegex = /^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/;\n\nvar appendPx = memoize(function (prop) {\n  var el = document.createElement('div');\n\n  try {\n    el.style[prop] = '1px';\n    el.style.setProperty(prop, '1px');\n    return el.style[prop].slice(-3) === '1px' ? 'px' : ''\n  } catch (err) {\n    return ''\n  }\n}, {\n  flex: '',\n  boxShadow: 'px',\n  border: 'px',\n  borderTop: 'px',\n  borderRight: 'px',\n  borderBottom: 'px',\n  borderLeft: 'px'\n});\n\nfunction lowercaseFirst(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1)\n}\n\nfunction assign(obj, obj2) {\n  for (var key in obj2) {\n    if (obj2.hasOwnProperty(key))\n      { obj[key] = obj2[key]; }\n  }\n  return obj\n}\n\nfunction hyphenToCamelCase(hyphen) {\n  return hyphen.slice(hyphen.charAt(0) === '-' ? 1 : 0).replace(/-([a-z])/g, function(match) {\n    return match[1].toUpperCase()\n  })\n}\n\nfunction camelCaseToHyphen(camelCase) {\n  return camelCase.replace(/(\\B[A-Z])/g, '-$1').toLowerCase()\n}\n\nfunction initials(camelCase) {\n  return camelCase.charAt(0) + (camelCase.match(/([A-Z])/g) || []).join('').toLowerCase()\n}\n\nfunction objectToRules(style, selector, suffix, single) {\n  if ( suffix === void 0 ) suffix = '';\n\n  var base = {};\n  var extra = suffix.indexOf('&') > -1 && suffix.indexOf(',') === -1 ? '' : '&';\n  var rules = [];\n\n  Object.keys(style).forEach(function (prop) {\n    if (prop.charAt(0) === '@')\n      { rules.push(prop + '{' + objectToRules(style[prop], selector, suffix, single) + '}'); }\n    else if (typeof style[prop] === 'object')\n      { rules = rules.concat(objectToRules(style[prop], selector, suffix + prop, single)); }\n    else\n      { base[prop] = style[prop]; }\n  });\n\n  if (Object.keys(base).length) {\n    rules.unshift(\n      ((single || (suffix.charAt(0) === ' ') ? '' : '&') + extra + suffix).replace(/&/g, selector).trim() +\n      '{' + stylesToCss(base) + '}'\n    );\n  }\n\n  return rules\n}\n\nvar selectorSplit = /,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/;\n\nfunction stylesToCss(style) {\n  return Object.keys(style).reduce(function (acc, prop) { return acc + propToString(prop.replace(/!/g, ''), style[prop]); }\n  , '')\n}\n\nfunction propToString(prop, value) {\n  prop = prop in vendorMap ? vendorMap[prop] : prop;\n  return (vendorRegex.test(prop) ? '-' : '')\n    + (cssVar(prop)\n      ? prop\n      : camelCaseToHyphen(prop)\n    )\n    + ':'\n    + value\n    + ';'\n}\n\nfunction formatValues(prop, value) {\n  return Array.isArray(value)\n    ? value.map(function (v) { return formatValue(prop, v); }).join(' ')\n    : typeof value === 'string'\n      ? formatValues(prop, value.split(' '))\n      : formatValue(prop, value)\n}\n\nfunction formatValue(prop, value) {\n  return value in vendorValuePrefix\n    ? vendorValuePrefix[value]\n    : value + (isNaN(value) || value === null || typeof value === 'boolean' || cssVar(prop) ? '' : appendPx(prop))\n}\n\nfunction cssVar(prop) {\n  return prop.charAt(0) === '-' && prop.charAt(1) === '-'\n}\n\nvar styleSheet = typeof document === 'object' && document.createElement('style');\nstyleSheet && document.head && document.head.appendChild(styleSheet);\n\nvar sheet = styleSheet && styleSheet.sheet;\n\nvar debug = false;\nvar classes = Object.create(null, {});\nvar rules = [];\nvar count = 0;\n\nvar classPrefix = 'b' + ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3) +\n                    ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3);\n\nfunction setDebug(d) {\n  debug = d;\n}\n\nfunction getSheet() {\n  var content = rules.join('');\n  rules = [];\n  classes = Object.create(null, {});\n  count = 0;\n  return content\n}\n\nfunction getRules() {\n  return rules\n}\n\nfunction insert(rule, index) {\n  rules.push(rule);\n\n  if (debug)\n    { return styleSheet.textContent = rules.join('\\n') }\n\n  try {\n    sheet && sheet.insertRule(rule, arguments.length > 1\n      ? index\n      : sheet.cssRules.length);\n  } catch (e) {\n    // Ignore thrown errors in eg. firefox for unsupported strings (::-webkit-inner-spin-button)\n  }\n}\n\nfunction createClass(style) {\n  var json = JSON.stringify(style);\n\n  if (json in classes)\n    { return classes[json] }\n\n  var className = classPrefix + (++count)\n      , rules = objectToRules(style, '.' + className);\n\n  for (var i = 0; i < rules.length; i++)\n    { insert(rules[i]); }\n\n  classes[json] = className;\n\n  return className\n}\n\n/* eslint no-invalid-this: 0 */\n\nvar shorts = Object.create(null);\n\nfunction bss(input, value) {\n  var b = chain(bss);\n  input && assign(b.__style, parse.apply(null, arguments));\n  return b\n}\n\nfunction setProp(prop, value) {\n  Object.defineProperty(bss, prop, {\n    configurable: true,\n    value: value\n  });\n}\n\nObject.defineProperties(bss, {\n  __style: {\n    configurable: true,\n    writable: true,\n    value: {}\n  },\n  valueOf: {\n    configurable: true,\n    writable: true,\n    value: function() {\n      return '.' + this.class\n    }\n  },\n  toString: {\n    configurable: true,\n    writable: true,\n    value: function() {\n      return this.class\n    }\n  }\n});\n\nsetProp('setDebug', setDebug);\n\nsetProp('$keyframes', keyframes);\nsetProp('$media', $media);\nsetProp('$import', $import);\nsetProp('$nest', $nest);\nsetProp('getSheet', getSheet);\nsetProp('getRules', getRules);\nsetProp('helper', helper);\nsetProp('css', css);\nsetProp('classPrefix', classPrefix);\n\nfunction chain(instance) {\n  var newInstance = Object.create(bss, {\n    __style: {\n      value: assign({}, instance.__style)\n    },\n    style: {\n      enumerable: true,\n      get: function() {\n        var this$1 = this;\n\n        return Object.keys(this.__style).reduce(function (acc, key) {\n          if (typeof this$1.__style[key] === 'number' || typeof this$1.__style[key] === 'string')\n            { acc[key.replace(/^!/, '')] = this$1.__style[key]; }\n          return acc\n        }, {})\n      }\n    }\n  });\n\n  if (instance === bss)\n    { bss.__style = {}; }\n\n  return newInstance\n}\n\ncssProperties.forEach(function (prop) {\n  var vendor = prop.match(vendorRegex);\n  if (vendor) {\n    var unprefixed = lowercaseFirst(prop.replace(vendorRegex, '$2'));\n    if (cssProperties.indexOf(unprefixed) === -1) {\n      if (unprefixed === 'flexDirection')\n        { vendorValuePrefix.flex = '-' + vendor[1].toLowerCase() + '-flex'; }\n\n      vendorMap[unprefixed] = prop;\n      setProp(unprefixed, setter(prop));\n      setProp(short(unprefixed), bss[unprefixed]);\n      return\n    }\n  }\n\n  setProp(prop, setter(prop));\n  setProp(short(prop), bss[prop]);\n});\n\nsetProp('content', function Content(arg) {\n  var b = chain(this);\n  arg === null || arg === undefined || arg === false\n    ? delete b.__style.content\n    : b.__style.content = '\"' + arg + '\"';\n  return b\n});\n\nObject.defineProperty(bss, 'class', {\n  set: function(value) {\n    this.__class = value;\n  },\n  get: function() {\n    return this.__class || createClass(this.__style)\n  }\n});\n\nfunction $media(value, style) {\n  var b = chain(this);\n  if (value)\n    { b.__style['@media ' + value] = parse(style); }\n\n  return b\n}\n\nfunction $import(value) {\n  if (value)\n    { insert('@import ' + value + ';', 0); }\n\n  return chain(this)\n}\n\nfunction $nest(selector, properties) {\n  var b = chain(this);\n  if (arguments.length === 1)\n    { Object.keys(selector).forEach(function (x) { return addNest(b.__style, x, selector[x]); }); }\n  else if (selector)\n    { addNest(b.__style, selector, properties); }\n\n  return b\n}\n\nfunction addNest(style, selector, properties) {\n  style[\n    selector.split(selectorSplit).map(function (x) {\n      x = x.trim();\n      return (x.charAt(0) === ':' || x.charAt(0) === '[' ? '' : ' ') + x\n    }).join(',&')\n  ] = parse(properties);\n}\n\npseudos.forEach(function (name) { return setProp('$' + hyphenToCamelCase(name.replace(/:/g, '')), function Pseudo(value, style) {\n    var b = chain(this);\n    if (isTagged(value))\n      { b.__style[name] = parse.apply(null, arguments); }\n    else if (value || style)\n      { b.__style[name + (style ? '(' + value + ')' : '')] = parse(style || value); }\n    return b\n  }); }\n);\n\nfunction setter(prop) {\n  return function CssProperty(value) {\n    var b = chain(this);\n    if (!value && value !== 0)\n      { delete b.__style[prop]; }\n    else if (arguments.length > 0)\n      { add(b.__style, prop, Array.prototype.slice.call(arguments)); }\n\n    return b\n  }\n}\n\nfunction css(selector, style) {\n  if (arguments.length === 1)\n    { Object.keys(selector).forEach(function (key) { return addCss(key, selector[key]); }); }\n  else\n    { addCss(selector, style); }\n\n  return chain(this)\n}\n\nfunction addCss(selector, style) {\n  objectToRules(parse(style), selector, '', true).forEach(insert);\n}\n\nfunction helper(name, styling) {\n  if (arguments.length === 1)\n    { return Object.keys(name).forEach(function (key) { return helper(key, name[key]); }) }\n\n  delete bss[name]; // Needed to avoid weird get calls in chrome\n\n  if (typeof styling === 'function') {\n    helper[name] = styling;\n    Object.defineProperty(bss, name, {\n      configurable: true,\n      value: function Helper(input) {\n        var b = chain(this);\n        var result = isTagged(input)\n          ? styling(raw(input, arguments))\n          : styling.apply(null, arguments);\n        assign(b.__style, result.__style);\n        return b\n      }\n    });\n  } else {\n    helper[name] = parse(styling);\n    Object.defineProperty(bss, name, {\n      configurable: true,\n      get: function() {\n        var b = chain(this);\n        assign(b.__style, parse(styling));\n        return b\n      }\n    });\n  }\n}\n\nbss.helper('$animate', function (value, props) { return bss.animation(bss.$keyframes(props) + ' ' + value); }\n);\n\nfunction short(prop) {\n  var acronym = initials(prop)\n      , short = popular[acronym] && popular[acronym] !== prop ? prop : acronym;\n\n  shorts[short] = prop;\n  return short\n}\n\nvar stringToObject = memoize(function (string) {\n  var last = ''\n    , prev;\n\n  return string.trim().replace(/\\/\\*[\\s\\S]*?\\*\\/|([^:]|^)\\/\\/.*/g, '').split(/;|\\n/).reduce(function (acc, line) {\n    if (!line)\n      { return acc }\n    line = last + line.trim();\n    var ref = line.replace(/[ :]+/, ' ').split(' ');\n    var key = ref[0];\n    var tokens = ref.slice(1);\n\n    last = line.charAt(line.length - 1) === ',' ? line : '';\n    if (last)\n      { return acc }\n\n    if (line.charAt(0) === ',' || !isProp.test(key)) {\n      acc[prev] += ' ' + line;\n      return acc\n    }\n\n    if (!key)\n      { return acc }\n\n    var prop = key.charAt(0) === '-' && key.charAt(1) === '-'\n      ? key\n      : hyphenToCamelCase(key);\n\n    prev = shorts[prop] || prop;\n\n    if (prop in helper) {\n      typeof helper[prop] === 'function'\n        ? assign(acc, helper[prop].apply(helper, tokens).__style)\n        : assign(acc, helper[prop]);\n    } else if (tokens.length > 0) {\n      add(acc, prev, tokens);\n    }\n\n    return acc\n  }, {})\n});\n\nvar count$1 = 0;\nvar keyframeCache = {};\n\nfunction keyframes(props) {\n  var content = Object.keys(props).reduce(function (acc, key) { return acc + key + '{' + stylesToCss(parse(props[key])) + '}'; }\n  , '');\n\n  if (content in keyframeCache)\n    { return keyframeCache[content] }\n\n  var name = classPrefix + count$1++;\n  keyframeCache[content] = name;\n  insert('@keyframes ' + name + '{' + content + '}');\n\n  return name\n}\n\nfunction parse(input, value) {\n  var obj;\n\n  if (typeof input === 'string') {\n    if (typeof value === 'string' || typeof value === 'number')\n      { return (( obj = {}, obj[input] = value, obj )) }\n\n    return stringToObject(input)\n  } else if (isTagged(input)) {\n    return stringToObject(raw(input, arguments))\n  }\n\n  return input.__style || sanitize(input)\n}\n\nfunction isTagged(input) {\n  return Array.isArray(input) && typeof input[0] === 'string'\n}\n\nfunction raw(input, args) {\n  var str = '';\n  for (var i = 0; i < input.length; i++)\n    { str += input[i] + (args[i + 1] || ''); }\n  return str\n}\n\nfunction sanitize(styles) {\n  return Object.keys(styles).reduce(function (acc, key) {\n    var value = styles[key];\n    key = shorts[key] || key;\n\n    if (!value && value !== 0 && value !== '')\n      { return acc }\n\n    if (key === 'content' && value.charAt(0) !== '\"')\n      { acc[key] = '\"' + value + '\"'; }\n    else if (typeof value === 'object')\n      { acc[key] = sanitize(value); }\n    else\n      { add(acc, key, value); }\n\n    return acc\n  }, {})\n}\n\nexport default bss;\n//# sourceMappingURL=bss.esm.js.map\n","function Vnode(tag, key, attrs0, children0, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children0, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function(input) {\n\tvar children0 = []\n\tfor (var i = 0; i < input.length; i++) {\n\t\tchildren0[i] = Vnode.normalize(input[i])\n\t}\n\treturn children0\n}\n// Call via `hyperscriptVnode0.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript0` and `fragment` factories and define this as\n// `hyperscriptVnode0(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// var hyperscriptVnode = function(attrs1, ...children1) {\n//     if (attrs1 == null || typeof attrs1 === \"object\" && attrs1.tag == null && !Array.isArray(attrs1)) {\n//         if (children1.length === 1 && Array.isArray(children1[0])) children1 = children1[0]\n//     } else {\n//         children1 = children1.length === 0 && Array.isArray(attrs1) ? attrs1 : [attrs1, ...children1]\n//         attrs1 = undefined\n//     }\n//\n//     if (attrs1 == null) attrs1 = {}\n//     return Vnode(\"\", attrs1.key, attrs1, children1)\n// }\nvar hyperscriptVnode = function() {\n\tvar attrs1 = arguments[this], start = this + 1, children1\n\tif (attrs1 == null) {\n\t\tattrs1 = {}\n\t} else if (typeof attrs1 !== \"object\" || attrs1.tag != null || Array.isArray(attrs1)) {\n\t\tattrs1 = {}\n\t\tstart = this\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren1 = arguments[start]\n\t\tif (!Array.isArray(children1)) children1 = [children1]\n\t} else {\n\t\tchildren1 = []\n\t\twhile (start < arguments.length) children1.push(arguments[start++])\n\t}\n\treturn Vnode(\"\", attrs1.key, attrs1, children1)\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\tif (hasClass) attrs.class = null\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\treturn vnode\n}\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\tif (typeof selector === \"string\") {\n\t\treturn execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t} else {\n\t\tvnode.tag = selector\n\t\treturn vnode\n\t}\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function() {\n\tvar vnode2 = hyperscriptVnode.apply(0, arguments)\n\tvnode2.tag = \"[\"\n\tvnode2.children = Vnode.normalizeChildren(vnode2.children)\n\treturn vnode2\n}\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar _12 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(url, args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise0\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\t\t\treturn wrap(promise0)\n\t\t\tfunction wrap(promise0) {\n\t\t\t\tvar then0 = promise0.then\n\t\t\t\tpromise0.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise0\n\t\t\t}\n\t\t}\n\t}\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\tfunction interpolate(url, data, assemble) {\n\t\tif (data == null) return url\n\t\turl = url.replace(/:([^\\/]+)/gi, function (m0, key) {\n\t\t\treturn data[key] != null ? data[key] : m0\n\t\t})\n\t\tif (assemble && data != null) {\n\t\t\tvar querystring = buildQueryString(data)\n\t\t\tif (querystring) url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + querystring\n\t\t}\n\t\treturn url\n\t}\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar useBody = method !== \"GET\" && method !== \"TRACE\" &&\n\t\t\t\t(typeof args.useBody !== \"boolean\" || args.useBody)\n\t\t\tvar data = args.data\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(data instanceof $window.FormData)\n\t\t\tif (useBody) {\n\t\t\t\tif (typeof args.serialize === \"function\") data = args.serialize(data)\n\t\t\t\telse if (!(data instanceof $window.FormData)) data = JSON.stringify(data)\n\t\t\t}\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(method, interpolate(url, args.data, !useBody), typeof args.async !== \"boolean\" || args.async, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (assumeJSON && useBody && !hasHeader(args, /^content-type0$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\tif (args.responseType) xhr.responseType = args.responseType\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\tvar response = xhr.responseText\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(xhr, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {response = response ? JSON.parse(response) : null}\n\t\t\t\t\t\t\tcatch (e) {throw new Error(\"Invalid JSON: \" + response)}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\terror.code = xhr.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && data != null) xhr.send(data)\n\t\t\telse xhr.send()\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\turl = interpolate(url, args.data, true)\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t\tsetCompletionCallback: function(callback) {\n\t\t\toncompletion = callback\n\t\t},\n\t}\n}\nvar requestService = _12(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tvar redraw0\n\tfunction setRedraw(callback) {return redraw0 = callback}\n\tfunction getNameSpace(vnode3) {\n\t\treturn vnode3.attrs && vnode3.attrs.xmlns || nameSpace[vnode3.tag]\n\t}\n\t//sanity check to discourage people from doing `vnode3.state = ...`\n\tfunction checkState(vnode3, original) {\n\t\tif (vnode3.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode3` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode3) {\n\t\tvar original = vnode3.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode3, original)\n\t\t}\n\t}\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error1, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode3.state = {}\n\t\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode3, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode3, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode3, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode3, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode3, nextSibling) {\n\t\tvnode3.dom = $doc.createTextNode(vnode3.children)\n\t\tinsertNode(parent, vnode3.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode3, ns, nextSibling) {\n\t\tvar match0 = vnode3.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match0[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode3.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode3.children\n\t\t}\n\t\tvnode3.dom = temp.firstChild\n\t\tvnode3.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode3.children != null) {\n\t\t\tvar children3 = vnode3.children\n\t\t\tcreateNodes(fragment, children3, 0, children3.length, hooks, null, ns)\n\t\t}\n\t\tvnode3.dom = fragment.firstChild\n\t\tvnode3.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tvar attrs2 = vnode3.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode3) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode3.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode3, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (attrs2 != null && attrs2.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse {\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tif (vnode3.text !== \"\") element.textContent = vnode3.text\n\t\t\t\telse vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode3.children != null) {\n\t\t\t\tvar children3 = vnode3.children\n\t\t\t\tcreateNodes(element, children3, 0, children3.length, hooks, null, ns)\n\t\t\t\tif (vnode3.tag === \"select\" && attrs2 != null) setLateSelectAttrs(vnode3, attrs2)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode3, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode3.tag.view === \"function\") {\n\t\t\tvnode3.state = Object.create(vnode3.tag)\n\t\t\tsentinel = vnode3.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode3.state = void 0\n\t\t\tsentinel = vnode3.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode3.state = (vnode3.tag.prototype != null && typeof vnode3.tag.prototype.view === \"function\") ? new vnode3.tag(vnode3) : vnode3.tag(vnode3)\n\t\t}\n\t\tinitLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode3, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tcreateNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.dom != null ? vnode3.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t}\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next0 DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match0 nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index0 (for the old list), then1 iterate\n\t// over the new list and for each new vnode3, find the corresponding vnode3 in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match0 the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next0 sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index0, the DOM nodes up to the previous\n\t// vnode3 reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next0 sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next0 sibling (cached in the `nextSibling` variable).\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs0 because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(old, 0, old.length)\n\t\telse {\n\t\t\tvar start = 0, oldStart = 0, isOldKeyed = null, isKeyed = null\n\t\t\tfor (; oldStart < old.length; oldStart++) {\n\t\t\t\tif (old[oldStart] != null) {\n\t\t\t\t\tisOldKeyed = old[oldStart].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (; start < vnodes.length; start++) {\n\t\t\t\tif (vnodes[start] != null) {\n\t\t\t\t\tisKeyed = vnodes[start].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index0 past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index0 on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\toldStart++, start++\n\t\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (start === end) break\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\t\tinsertNode(parent, toFragment(oe), topSibling)\n\t\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\t\tif (++start <= --end) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tif (ve != null) {\n\t\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse insertNode(parent, toFragment(v), nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode3.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode3.state = old.state\n\t\t\tvnode3.events = old.events\n\t\t\tif (shouldNotUpdate(vnode3, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode3.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode3); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode3, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode3, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode3, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode3, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old)\n\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode3) {\n\t\tif (old.children.toString() !== vnode3.children.toString()) {\n\t\t\told.dom.nodeValue = vnode3.children\n\t\t}\n\t\tvnode3.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode3, ns, nextSibling) {\n\t\tif (old.children !== vnode3.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode3, ns, nextSibling)\n\t\t}\n\t\telse vnode3.dom = old.dom, vnode3.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode3.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children3 = vnode3.children\n\t\tvnode3.dom = null\n\t\tif (children3 != null) {\n\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\tvar child = children3[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode3.dom == null) vnode3.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode3.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode3, hooks, ns) {\n\t\tvar element = vnode3.dom = old.dom\n\t\tns = getNameSpace(vnode3) || ns\n\t\tif (vnode3.tag === \"textarea\") {\n\t\t\tif (vnode3.attrs == null) vnode3.attrs = {}\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tvnode3.attrs.value = vnode3.text //FIXME handle0 multiple children3\n\t\t\t\tvnode3.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode3, old.attrs, vnode3.attrs, ns)\n\t\tif (vnode3.attrs != null && vnode3.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse if (old.text != null && vnode3.text != null && vnode3.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode3.text.toString()) old.dom.firstChild.nodeValue = vnode3.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode3.text != null) vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode3.children, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) updateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode3.instance, hooks, nextSibling, ns)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance)\n\t\t\tvnode3.dom = undefined\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.dom = old.dom\n\t\t\tvnode3.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode3 = vnodes[start]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tvar key = vnode3.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tfunction makeLisIndices(a) {\n\t\tvar p = a.slice()\n\t\tvar result = []\n\t\tresult.push(0)\n\t\tvar u\n\t\tvar v\n\t\tfor (var i = 0, il = a.length; i < il; ++i) {\n\t\t\tif (a[i] === -1) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\tvar c = ((u + v) / 2) | 0 // eslint-disable-line no-bitwise\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) {\n\t\t\t\t\tp[i] = result[u - 1]\n\t\t\t\t}\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = p[v]\n\t\t}\n\t\treturn result\n\t}\n\tfunction toFragment(vnode3) {\n\t\tvar count0 = vnode3.domSize\n\t\tif (count0 != null || vnode3.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode3.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode3.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode3) {\n\t\tvar children3 = vnode3.children\n\t\tif (children3 != null && children3.length === 1 && children3[0].tag === \"<\") {\n\t\t\tvar content = children3[0].children\n\t\t\tif (vnode3.dom.innerHTML !== content) vnode3.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode3.text != null || children3 != null && children3.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) removeNode(vnode3)\n\t\t}\n\t}\n\tfunction removeNode(vnode3) {\n\t\tvar expected = 1, called = 0\n\t\tvar original = vnode3.state\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.state.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.attrs.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tcheckState(vnode3, original)\n\t\t\t\tonremove(vnode3)\n\t\t\t\tif (vnode3.dom) {\n\t\t\t\t\tvar parent = vnode3.dom.parentNode\n\t\t\t\t\tvar count0 = vnode3.domSize || 1\n\t\t\t\t\twhile (--count0) parent.removeChild(vnode3.dom.nextSibling)\n\t\t\t\t\tparent.removeChild(vnode3.dom)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction onremove(vnode3) {\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onremove === \"function\") callHook.call(vnode3.state.onremove, vnode3)\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onremove === \"function\") callHook.call(vnode3.attrs.onremove, vnode3)\n\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\tif (vnode3.instance != null) onremove(vnode3.instance)\n\t\t} else {\n\t\t\tvar children3 = vnode3.children\n\t\t\tif (Array.isArray(children3)) {\n\t\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\t\tvar child = children3[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode3, attrs2, ns) {\n\t\tfor (var key in attrs2) {\n\t\t\tsetAttr(vnode3, key, null, attrs2[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode3, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode3, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode3, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode3.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, value)\n\t\telse if (hasPropertyKey(vnode3, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode3.tag === \"input\" || vnode3.tag === \"textarea\") && vnode3.dom.value === \"\" + value && vnode3.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"select\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"option\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error1 will occur.\n\t\t\tif (vnode3.tag === \"input\" && key === \"type\") vnode3.dom.setAttribute(key, value)\n\t\t\telse vnode3.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode3.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode3.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode3.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode3, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode3, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode3, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode3.tag === \"option\"\n\t\t\t\t|| vnode3.tag === \"select\" && vnode3.dom.selectedIndex === -1 && vnode3.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode3.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode3.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode3.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode3, attrs2) {\n\t\tif (\"value\" in attrs2) {\n\t\t\tif(attrs2.value === null) {\n\t\t\t\tif (vnode3.dom.selectedIndex !== -1) vnode3.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs2.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode3.dom.value !== normalized || vnode3.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode3.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode3, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode3, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key in attrs2) {\n\t\t\t\tsetAttr(vnode3, key, old && old[key], attrs2[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs2 == null || attrs2[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode3, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode3, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode3.dom === activeElement() || vnode3.tag === \"option\" && vnode3.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode3, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode3.tag.indexOf(\"-\") > -1 || vnode3.attrs != null && vnode3.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode3.dom\n\t}\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method0.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler0 before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler0 = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler0 === \"function\") result = handler0.call(ev.currentTarget, ev)\n\t\telse if (typeof handler0.handleEvent === \"function\") handler0.handleEvent(ev)\n\t\tif (ev.redraw === false) ev.redraw = undefined\n\t\telse if (typeof redraw0 === \"function\") redraw0()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode3, key, value) {\n\t\tif (vnode3.events != null) {\n\t\t\tif (vnode3.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode3.events[key] == null) vnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode3.events[key] != null) vnode3.dom.removeEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode3.events = new EventDict()\n\t\t\tvnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\tvnode3.events[key] = value\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode3)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode3))\n\t}\n\tfunction updateLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode3))\n\t}\n\tfunction shouldNotUpdate(vnode3, old) {\n\t\tdo {\n\t\t\tif (vnode3.attrs != null && typeof vnode3.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.attrs.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.state.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode3.dom = old.dom\n\t\tvnode3.domSize = old.domSize\n\t\tvnode3.instance = old.instance\n\t\treturn true\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time rendering0 into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setRedraw: setRedraw}\n}\nfunction throttle(callback) {\n\tvar pending = null\n\treturn function() {\n\t\tif (pending === null) {\n\t\t\tpending = requestAnimationFrame(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n}\nvar _15 = function($window, throttleMock) {\n\tvar renderService = coreRenderer($window)\n\tvar callbacks = []\n\tvar rendering = false\n\tfunction subscribe(key, callback) {\n\t\tunsubscribe(key)\n\t\tcallbacks.push(key, callback)\n\t}\n\tfunction unsubscribe(key) {\n\t\tvar index = callbacks.indexOf(key)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 1; i < callbacks.length; i+=2) try {callbacks[i]()} catch (e) {if (typeof console !== \"undefined\") console.error(e)}\n\t\trendering = false\n\t}\n\tvar redraw = (throttleMock || throttle)(sync)\n\tredraw.sync = sync\n\trenderService.setRedraw(redraw)\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _15(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _20 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\trun0()\n\t}\n}\nm.mount = _20(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data2 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key2 = decodeURIComponent(entry[0])\n\t\tvar value0 = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value0 === \"true\") value0 = true\n\t\telse if (value0 === \"false\") value0 = false\n\t\tvar levels = key2.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data2\n\t\tif (key2.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j0 = 0; j0 < levels.length; j0++) {\n\t\t\tvar level = levels[j0], nextLevel = levels[j0 + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j0 === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key2 = levels.slice(0, j0).join()\n\t\t\t\tif (counters[key2] == null) counters[key2] = 0\n\t\t\t\tlevel = counters[key2]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value0 : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data2\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize(fragment0) {\n\t\tvar data1 = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data1[0] !== \"/\") data1 = \"/\" + data1\n\t\treturn data1\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key1 in queryParams) queryData[key1] = queryParams[key1]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key1 in hashParams) hashData[key1] = hashParams[key1]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize(\"search\").slice(router.prefix.length) + normalize(\"hash\")\n\t\t\tdefault: return normalize(\"pathname\").slice(router.prefix.length) + normalize(\"search\") + normalize(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data1, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data1 != null) {\n\t\t\tfor (var key1 in data1) queryData[key1] = data1[key1]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match1, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data1[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _24 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v0) {return v0}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tfunction run1() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar redraw3 = function() {\n\t\t\trun1()\n\t\t\tredraw3 = redrawService0.redraw\n\t\t}\n\t\tredrawService0.subscribe(root, run1)\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\tredraw3()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t}\n\troute.set = function(path, data0, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data0, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix) {routeService.prefix = prefix}\n\tvar link = function(options, vnode5) {\n\t\tvnode5.dom.setAttribute(\"href\", routeService.prefix + vnode5.attrs.href)\n\t\tvnode5.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, options)\n\t\t}\n\t}\n\troute.link = function(args0) {\n\t\tif (args0.tag == null) return link.bind(link, args0)\n\t\treturn link({}, args0)\n\t}\n\troute.param = function(key0) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key0 !== \"undefined\") return attrs3[key0]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _24(window, redrawService)\nvar _31 = coreRenderer(window)\nm.render = _31.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"2.0.0-rc.3\"\nm.vnode = Vnode\nm.PromisePolyfill = PromisePolyfill\n\nexport default m\nvar _m = m.m,_trust = m.trust,_fragment = m.fragment,_mount = m.mount,_route = m.route,_render = m.render,_redraw = m.redraw,_request = m.request,_jsonp = m.jsonp,_parseQueryString = m.parseQueryString,_buildQueryString = m.buildQueryString,_version = m.version,_vnode = m.vnode,_PromisePolyfill = m.PromisePolyfill\nexport {_m as m,_trust as trust,_fragment as fragment,_mount as mount,_route as route,_render as render,_redraw as redraw,_request as request,_jsonp as jsonp,_parseQueryString as parseQueryString,_buildQueryString as buildQueryString,_version as version,_vnode as vnode,_PromisePolyfill as PromisePolyfill}","import b from 'bss';\n\nb.css({\n  '*,*+*,*:before,*:after' : b`borderSizing:borderBox;margin:0;padding:0;` ,\n  'html'  : b`font-size:62.50%;height:100%;` ,\n  'body'  : b`font: 2rem 'Noto Sans', sans-serif;height:100%;` ,\n  'br'    : b`clear:both;` ,\n  'a'     : b`cursor:pointer;color:#064a5a;text-decoration:none;` ,\n  'ul'    : b`list-style-type:none;` ,\n  'p'     : b`padding:0rem;margin:0rem;line-height:2.2rem;` ,\n  'td,th' : b`border-bottom:.1rem solid #eee;padding:.6rem 1.2rem;`\n})\n\n// menu\nb.css({\n  '.menu'              : b`width:16rem;padding:2rem;background-color:#0d98ba;` , // hover #0a718a\n  '.menu-header'       : b`color:#effbfe;` ,\n  '.menu-header:hover' : b`background-color:#0b85a2;opacity:.9;` ,\n})\n\n//content\nb.css({\n  '.app'  : b`display:flex;flex-direction:row;width:100%;height:100%;` ,\n  '.content' : b`width:100%;padding:1.5rem;`\n})\n\n// modifiers\nb.css({\n  '.ba'               : b`border:.1rem solid gray;` ,\n  '.bb'               : b`border-bottom:.2rem solid gray;` ,\n  '.btn'              : b`background:white;border:solid gray;border-width:1.5px;border-radius:.2rem;cursor:pointer;font-size:1.6rem;padding:.8rem;` ,\n  '.btn:hover'        : b`opacity:.8;` ,\n  '.btn-i'            : b`cursor:pointer;font-size:1.8rem;` ,\n  '.btn-i:hover'      : b`opacity:.7;` ,\n  '.itxt'             : b`border:solid gray;font-size:1.6rem;padding:.8rem;margin: .5rem 1rem;` ,\n  '.itxt:focus'       : b`outline-color:black;` ,\n  '.itxtarea'         : b`border:solid gray;` ,\n  '.itxtarea:focus'   : b`outline-color:black;` ,\n  '.fr'               : b`float:right;` ,\n  '.mv1'              : b`margin-top:.25rem;margin-bottom:.25rem;` ,\n  '.mh1'              : b`margin-left:.25rem; margin-right:.25rem;` ,\n  '.ma3'              : b`margin:1rem;` ,\n  '.mh3'              : b`margin-left:1rem;margin-right:1rem;` ,\n  '.mv1'              : b`margin-top:.25rem;margin-bottom:.25rem;` ,\n  '.mv3'              : b`margin-top:1rem;margin-bottom:1rem;` ,\n  '.pv1'              : b`padding-top:.25rem;padding-bottom:.25rem;` ,\n  '.pa3'              : b`padding:1rem;` ,\n  '.ph3'              : b`padding-left:1rem;padding-right:1rem;` ,\n  '.pv3'              : b`padding-top:1rem;padding-bottom:1rem;` ,\n  '.w-100'            : b`width:100%;` ,\n  '.w-90'             : b`width:90%;` ,\n  '.w-70'             : b`width:70%;` ,\n  '.w-58'             : b`width:58%;` ,\n  '.w-40'             : b`width:40%;` ,\n  '.tooltip'         : b`background:#0b85a2;border-radius:1rem 0;color:#effbfe;opacity:0;padding:5px 5px;position:absolute;transform:translateX(-60%) translateY(0);transition:all .2s ease;user-select:none;visibility:hidden;white-space:nowrap;` \n})\n\n// grid\nb.css({\n  '.fbx'  : b`width:100%;display:flex;flex-wrap:wrap;flex-direction:row;margin-left:0;margin-right:0;padding-left:0;padding-right:0;` ,\n  '.fcl'  : b`flex:1;` ,\n  '.c1'   : b`max-width:calc(100%/12);` ,\n  '.c2'   : b`max-width:calc(100%/12*2);` ,\n  '.c3'   : b`max-width:calc(100%/12*3);` ,\n  '.c4'   : b`max-width:calc(100%/12*4);` ,\n  '.c5'   : b`max-width:calc(100%/12*5);` ,\n  '.c6'   : b`max-width:calc(100%/2);` ,\n  \n})\n\n// media queries\nb.css({\n  '@media(max-width:35rem)' : b`.fcl{min-width: 100%;}.fbx{margin: 1rem 0;}` ,\n  // '@media(max-width:55rem)' : b`.media-hide{display:none;}`\n})","import m from 'mithril'\r\n\r\nexport const DataModel = function() {\r\n  // if (!localStorage.getItem('H06')) localStorage.setItem('H06','{\"hrext\" : {\"bookmarks\" : [] ,\"notes\" : \"\" ,\"slug\" : \"hrext\"}}')\r\n  let model = JSON.parse(localStorage.getItem('H06'))\r\n  console.log(model)\r\n  return model\r\n}\r\n\r\nexport const StateModel = function(ns) {\r\n  return {\r\n    isReady: true ,\r\n    isBusy: false\r\n  }\r\n}","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\n? *\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = Object.create(null);\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.pedantic) {\n    this.rules = block.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? rtrim(cap, '\\n')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      listStart = {\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false\n      };\n\n      this.tokens.push(listStart);\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      listItems = [];\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          listStart.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        t = {\n          type: 'list_item_start',\n          task: istask,\n          checked: ischecked,\n          loose: loose\n        };\n\n        listItems.push(t);\n        this.tokens.push(t);\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      if (listStart.loose) {\n        l = listItems.length;\n        i = 0;\n        for (; i < l; i++) {\n          listItems[i].loose = true;\n        }\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s])__(?!_)|^\\*\\*([^\\s])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_|[^\\s.])|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_|[^\\s.])|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n  text: /^(`+|[^`])[\\s\\S]*?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n};\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|[^\\[\\]\\\\])*?/;\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|(?:\\\\[()]?|\\([^\\s\\x00-\\x1f\\\\]*\\)|[^\\s\\x00-\\x1f()\\\\])*?)/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: edit(inline.text)\n    .replace(']|', '~]|')\n    .replace('|$', '|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&\\'*+/=?^_`{\\\\|}~-]+@|$')\n    .getRegex()\n});\n\ninline.gfm.url = edit(inline.gfm.url)\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      src = src.substring(cap[0].length);\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = true;\n      } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = false;\n      }\n\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0];\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      href = cap[2];\n      if (this.options.pedantic) {\n        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      out += this.outputLink(cap, {\n        href: InlineLexer.escapes(href),\n        title: InlineLexer.escapes(title)\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (this.inRawBlock) {\n        out += this.renderer.text(cap[0]);\n      } else {\n        out += this.renderer.text(escape(this.smartypants(cap[0])));\n      }\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\nInlineLexer.escapes = function(text) {\n  return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || marked.defaults;\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  if (this.options.headerIds) {\n    return '<h'\n      + level\n      + ' id=\"'\n      + this.options.headerPrefix\n      + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n      + '\">'\n      + text\n      + '</h'\n      + level\n      + '>\\n';\n  }\n  // ignore IDs\n  return '<h' + level + '>' + text + '</h' + level + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.checkbox = function(checked) {\n  return '<input '\n    + (checked ? 'checked=\"\" ' : '')\n    + 'disabled=\"\" type=\"checkbox\"'\n    + (this.options.xhtml ? ' /' : '')\n    + '> ';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  if (body) body = '<tbody>' + body + '</tbody>';\n\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + body\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' align=\"' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n  var out = '<a href=\"' + escape(href) + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n};\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n};\n\nTextRenderer.prototype.br = function() {\n  return '';\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)));\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n      var loose = this.token.loose;\n\n      if (this.token.task) {\n        body += this.renderer.checkbox(this.token.checked);\n      }\n\n      while (this.next().type !== 'list_item_end') {\n        body += !loose && this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      // TODO parse inline content if parameter markdown=1\n      return this.renderer.html(this.token.text);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escape.escapeTest.test(html)) {\n      return html.replace(escape.escapeReplace, function (ch) { return escape.replacements[ch]; });\n    }\n  } else {\n    if (escape.escapeTestNoEncode.test(html)) {\n      return html.replace(escape.escapeReplaceNoEncode, function (ch) { return escape.replacements[ch]; });\n    }\n  }\n\n  return html;\n}\n\nescape.escapeTest = /[&<>\"']/;\nescape.escapeReplace = /[&<>\"']/g;\nescape.replacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nescape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nescape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n        var escaped = false,\n            curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n        if (escaped) {\n          // odd number of slashes means | is escaped\n          // so we leave it alone\n          return '|';\n        } else {\n          // add space before unescaped |\n          return ' |';\n        }\n      }),\n      cells = row.split(/ \\|/),\n      i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  if (str.length === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  var suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < str.length) {\n    var currChar = str.charAt(str.length - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, str.length - suffLen);\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.getDefaults = function () {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: new Renderer(),\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tables: true,\n    xhtml: false\n  };\n};\n\nmarked.defaults = marked.getDefaults();\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  root.marked = marked;\n}\n})(this || (typeof window !== 'undefined' ? window : global));\n","import {DataModel,StateModel} from './model-state'\r\nimport marked from 'marked'\r\nimport m from 'mithril'\r\n\r\nmarked.setOptions({\r\n  highlight: function(code) {\r\n    return hljs.highlightAuto(code).value;\r\n  }\r\n});\r\n\r\nconst ac = (function(dm,sm) {\r\n  let \r\n    data = dm()\r\n    , state = sm()\r\n    // , selectedData = 'hrext'\r\n    // , model = data[selectedData]\r\n    , selectedData\r\n    , model\r\n    , stringe = ''\r\n    , updateLocalStorage = function() {\r\n      stringe = JSON.stringify(data)\r\n      localStorage.setItem('H06',stringe)\r\n    }\r\n  return {\r\n    data ,\r\n    state ,\r\n    model ,\r\n    selectedData ,\r\n    add (url) {\r\n      data[selectedData].bookmarks.push(url)\r\n      updateLocalStorage()\r\n    } ,\r\n    descMarked (desc,idx) {\r\n      let nhtml = marked(desc)\r\n        data[selectedData].bookmarks[idx].description = nhtml\r\n        data[selectedData].bookmarks[idx].rawDesc = desc\r\n        updateLocalStorage()\r\n      return nhtml\r\n    } ,\r\n    search (term) {\r\n      data[selectedData].bookmarks = data[selectedData].bookmarks.filter((value) => {\r\n        return String(value.url).includes(term)\r\n      })\r\n    } ,\r\n    remove (idx) {\r\n      data[selectedData].bookmarks = data[selectedData].bookmarks.filter((_,indx) => {\r\n        return !(indx === Number(idx))\r\n      })\r\n      updateLocalStorage()\r\n    } ,\r\n    clear () {\r\n      data[selectedData].bookmarks = []\r\n      updateLocalStorage()\r\n    } ,\r\n    reset () {\r\n      if (selectedData===undefined) selectedData = this.selectedData\r\n      let\r\n        ndata = dm()\r\n      data[selectedData].bookmarks = ndata[selectedData].bookmarks\r\n    } ,\r\n    newCategory (category) {\r\n      data[category] = {\r\n        \"bookmarks\" : [] ,\r\n        \"notes\" : \"\" ,\r\n        \"slug\" : category.toLowerCase().replace(/\\W/g,\"-\")\r\n      }\r\n      updateLocalStorage()\r\n    } ,\r\n    deleteCategory (category) {\r\n      delete data[category]\r\n      updateLocalStorage()\r\n    } ,\r\n    fetchData () {\r\n      return m.request({\r\n        method: 'GET' ,\r\n        url: './data.json' ,\r\n      })\r\n      .then((res) => {\r\n        localStorage.setItem('H06',JSON.stringify(res))\r\n        data = JSON.parse(localStorage.getItem('H06'))\r\n        this.data = JSON.parse(localStorage.getItem('H06'))\r\n        m.redraw()\r\n      })\r\n    } ,\r\n    test () {\r\n      // getting the title tag then getting the inside string\r\n      m.request({\r\n        method : 'GET' ,\r\n        url: 'https://www.npmjs.com/' ,\r\n        deserialize : function(value) {\r\n          console.log()\r\n          return value.match(/<title [^>]+>([^<]+)<\\/title>/)[1]\r\n        }\r\n      })\r\n      .then((res)=>{\r\n        console.log(res)\r\n      })\r\n    }\r\n  }\r\n}(DataModel,StateModel))\r\n\r\nexport default ac",";(function(){\r\n\r\n  var hasOwnProp = {}.hasOwnProperty\r\n\r\n  function classFuncStyle (classesName) {\r\n    const classes = classesName , globalClass = {}\r\n    return function classStyle() {\r\n      const arr = []\r\n      for (let i = 0; i < arguments.length; i++) {\r\n        if (!arguments[i] || arguments[i] === ' ' || arguments[i] < 0) continue\r\n        var \r\n          arg             = arguments[i]\r\n          , argType       = typeof arg\r\n          , classExists   = subj => (hasOwnProp.call(classes,subj)||hasOwnProp.call(globalClass,subj))\r\n          , pushExisting  = subj => arr.push(classes[subj]||globalClass[subj])\r\n          , pushNew       = subj => arr.push(subj)\r\n        switch(argType) {\r\n          case 'string' :\r\n          case 'number':\r\n            classExists(arg) \r\n            ? pushExisting(arg)\r\n            : pushNew(arg)\r\n            continue\r\n          case 'object' :\r\n            if (Array.isArray(arg) && arg.length) {\r\n              arg.forEach(function(val) {\r\n                let innerArr = classStyle.call(null,val)\r\n                if (innerArr !== undefined && innerArr['className']) \r\n                  pushNew(innerArr['className'])\r\n              })\r\n              continue\r\n            }\r\n            for (let key in arg) {\r\n              if (hasOwnProp.call(arg,key) && arg[key]) {\r\n                classExists(key)\r\n                ? pushExisting(key)\r\n                : pushNew(key)\r\n              }\r\n            }\r\n            continue\r\n        }\r\n      }\r\n      return arr.length !== 0 ? {className: arr.join(' ').trim()} : undefined\r\n    }\r\n  }\r\n  \r\n  typeof module !== 'undefined' \r\n  ? module.exports = classFuncStyle \r\n  : window.classFuncStyle = classFuncStyle\r\n\r\n}())","import m from 'mithril'\r\nimport b from 'bss'\r\nimport cfs from 'class-func-style'\r\n\r\nlet fc = cfs({\r\n  '-category-list' : b`padding: 0 1rem;display:flex;justify-content:space-between;align-items:center;` ,\r\n  '-category-input' : b`width:inherit;padding: .4rem .2rem;border:solid #0b85a2;`.$focus(`outline-color:black;`) ,\r\n  '-link' : b`margin-top:1rem;color:#effbfe;`\r\n    .$hover(`background-color:#0b85a2;opacity:.9;`) ,\r\n})\r\nconst Menu = {\r\n  view (v) {\r\n    let { categories , deleteCategory , newCategory } = v.attrs\r\n    return m('.menu.c2'+b``.$media('(max-width:55rem)',b`display:none;`),\r\n      [\r\n        m('h3.ph3.pv1.mv3',{...fc('-link')},[m('a','@ hrext')]) ,\r\n        m('input.mv3.ph1[type=text][placeholder=\"new category...\"]'\r\n        , {\r\n          ...fc('-category-input') ,\r\n          onkeyup(e) {\r\n            if (e.keyCode === 13) {\r\n              if (e.target.value !== '') {\r\n                console.log(e.target.value)\r\n                newCategory(e.target.value)\r\n                e.target.value = ''\r\n              }\r\n            }\r\n          }\r\n        }) ,\r\n        m('div',[\r\n          categories.map((category) =>{\r\n            return m('span',{...fc('-category-list','-link')}\r\n              ,[\r\n                m('a'\r\n                ,{\r\n                  id:`${category}` ,\r\n                  onclick (e) {\r\n                    e.preventDefault()\r\n                    m.route.set(`/${category}`)\r\n                  }\r\n                },`# ${category}`) ,\r\n                m('span.btn-i'+b`font-size:1.6rem;`\r\n                ,{\r\n                  onclick(e) {\r\n                    let targetCategory = e.target.parentElement.previousSibling.id\r\n                    if (targetCategory !== 'hrext') {\r\n                      deleteCategory(targetCategory)\r\n                    }\r\n                  }\r\n                }\r\n                ,[[m('i.fas.fa-times-circle')]]) ,\r\n              ]) \r\n          })\r\n        ])\r\n      ]\r\n    )\r\n  }\r\n}\r\n\r\nexport default Menu\r\n// far.fa-times-circle","import m from 'mithril'\r\nimport b from 'bss'\r\nimport cfs from 'class-func-style'\r\n\r\nfunction Content() {\r\n  let\r\n    handleToggle = null\r\n    , modalNode = null\r\n    , handleKeyup = e => {\r\n      let \r\n        presskey = {\r\n          27 : () => {\r\n            e.preventDefault()\r\n            handleToggle()\r\n            window.removeEventListener('keyup',handleKeyup,false)\r\n          }\r\n        }\r\n      if (presskey[e.keyCode]) { presskey[e.keyCode]() }\r\n    }\r\n    , handleClick = e => {\r\n      if (!modalNode.contains(e.target)) {\r\n        handleToggle()\r\n        document.removeEventListener('click',handleClick,false)\r\n      }\r\n    }\r\n    , fc = cfs({\r\n      '-modal-overlay'  : b`display:flex;position:fixed;width:100%;height:100%;background-color:#effbfe;align-items:center;justify-content:center;overflow-x:hidden;overflow-y:auto;z-index:999;opacity:.96;top:0;right:0;` ,\r\n      '-modal'          : b`background-color:#fff;padding:2rem;` , //.$media('(min-width:55rem)',b`width:35rem;`) ,\r\n      // '-modal-content'  : b`opacity:1;` ,\r\n      '-modal-close-btn': b`top:0;right:0;float:right;` ,\r\n    })\r\n  const\r\n    content = {\r\n      oninit (v) {\r\n        handleToggle = v.attrs.modal_toggle\r\n      } ,\r\n      oncreate () {\r\n        window.addEventListener('keyup',handleKeyup,false)\r\n        document.addEventListener('click',handleClick,false)\r\n      } ,\r\n      onbeforeremove() {\r\n        window.removeEventListener('keyup',handleKeyup,false)\r\n        document.removeEventListener('click',handleClick,false)\r\n      }\r\n    }\r\n    content.view = function({attrs,children}) {\r\n      return [\r\n        m('div',{...fc('-modal-overlay')},[\r\n          m('div'\r\n          ,{\r\n            oncreate({dom}){ modalNode = dom } ,\r\n            ...fc('-modal')\r\n          },[\r\n            m('.w-100',{...fc('-modal-content')},[children]) ,\r\n          ]) ,\r\n          // close button if needed\r\n          // children should container close\r\n          // m('div'\r\n          // ,{\r\n          //   ...fc('-modal-close-btn') ,\r\n          //   onclick () {\r\n          //     attrs.modal_toggle\r\n          //   }\r\n          // }\r\n          // ,['x'])\r\n        ])\r\n      ]\r\n    }\r\n  return content\r\n}\r\n\r\nexport default Content","import m from 'mithril'\r\nimport Content from './content.js'\r\n\r\nlet \r\n  modal_toggle_value = false\r\n  , modal_toggle = () => { \r\n    modal_toggle_value = !modal_toggle_value\r\n    m.redraw()\r\n  }\r\n\r\nexport default {\r\n  view ({attrs,children}) {\r\n    let \r\n      { button , label } = attrs\r\n    button.attrs.onclick = function () { modal_toggle() }\r\n    return m.fragment({},[\r\n        button ,\r\n        modal_toggle_value && m(Content,{modal_toggle},[children])\r\n      ])\r\n  }\r\n}","import m from 'mithril'\r\nimport b from 'bss'\r\nimport cfs from 'class-func-style'\r\n\r\nlet\r\n  fc = cfs({\r\n    '-tooltip-wrap' : b`display:inline-block;position:relative;` \r\n      .$nest(\r\n        '&:hover .tooltip', b`opacity:1;transform:translateX(-100%) translateY(3rem);transition:all .3s ease .5s;visibility:visible;\r\n      `) ,\r\n  })\r\n\r\nconst ToolTip = {\r\n  oncreate (v) {\r\n    v.dom.parentElement.classList.add(fc('-tooltip-wrap').className)\r\n  } ,\r\n  view (v) {\r\n    let { tip } = v.attrs\r\n    return m('span',{...fc('tooltip')},tip)\r\n  }\r\n}\r\n\r\nexport default ToolTip","import m from 'mithril'\r\n\r\nimport Modal from './modal'\r\nimport ToolTip from './tool-tip.js'\r\n\r\nconst MarkdownHelp = {\r\n  view (v) {\r\n    return (\r\n      m(Modal\r\n        ,{\r\n          label: 'Demo',\r\n          button: m('span.btn-i',[ m('i.fab.fa-markdown') , m(ToolTip,{'tip':'markdown help'}) ])}\r\n        ,[\r\n          // modal markdown help content\r\n          m('table',[\r\n            m('tr',[\r\n              m('th[colspan=2]',['Markdown Syntax Help']) ,\r\n            ]) ,\r\n            m('tr',[\r\n              m('td',['Headers']) ,\r\n              m('td',['# H1 ## H2 ### H3'])\r\n            ]) ,\r\n            m('tr',[\r\n              m('td',['Bold']) ,\r\n              m('td',['**bold**'])\r\n            ]) ,\r\n            m('tr',[\r\n              m('td',['Italic']) ,\r\n              m('td',['*italics*'])\r\n            ]) ,\r\n            m('tr',[\r\n              m('td',['Strikethrough']) ,\r\n              m('td',['~~strikethrough~~'])\r\n            ]) ,\r\n            m('tr',[\r\n              m('td',['Bullet List']) ,\r\n              m('td',['* item'])\r\n            ]) ,\r\n            m('tr',[\r\n              m('td',['Image']) ,\r\n              m('td',['![alt](http://)'])\r\n            ]) ,\r\n            m('tr',[\r\n              m('td',['Code']) ,\r\n              m('td',['``_code``'])\r\n            ]) ,\r\n            m('tr',[\r\n              m('td',['Highlighted Code ']) ,\r\n              m('td',['`` `` ``_javascript var code=formatted`` `` ``'])\r\n            ]) ,\r\n          ])\r\n        ])\r\n    )\r\n  }\r\n}\r\n\r\nexport default MarkdownHelp\r\n\r\n","import m from 'mithril'\r\nimport b from 'bss'\r\nimport cfs from 'class-func-style'\r\n\r\nimport MarkdownHelp from './util/markdown-help.js'\r\nimport ToolTip from './util/tool-tip.js'\r\n\r\nfunction ContentList () {\r\n  let\r\n    collapse_toggle = true\r\n    , desc_toggle = false\r\n    , txtDesc = ''\r\n    , htmlDesc = ''\r\n    , txtIndx = null \r\n    , fc = cfs({\r\n        '-desc'         : b`padding:1rem 2rem;margin-top:-1rem;border-style:solid;border-color:gray;border-width:0px .2rem .5px .2rem;background-color:#fcfcfc;font-size:1.6rem;` ,\r\n        '-desc-input'   : b`resize:none;min-height:8rem;padding:.5rem;width:98%;` ,\r\n        '-item': b`align-items:center;line-height:2rem;vertical-align:middle;margin:1rem;padding:1rem;width:inherit;`\r\n          .$hover(`\r\n              background-color: #fbfbfb;\r\n          `) ,\r\n        '-item-border'  : b`border-style:solid;border-color:gray;border-width:.5px .2rem .5px .2rem;` ,\r\n        '-remove'       : b`margin-left:auto;` ,\r\n        '-url'          : b`cursor:pointer;font-size:1.8rem;margin-left:1rem;` ,\r\n        '-url-span'     : b`margin-right:auto;text-overflow:ellipsis;overflow:hidden;white-space:pre;`\r\n          .$media('(max-width:60rem)',b`max-width:58rem;`)  \r\n          .$media('(max-width:30rem)',b`max-width:28rem;`) \r\n          .$media('(max-width:26rem)',b`width:24rem;`) ,\r\n      })\r\n  const \r\n    ContentList = {}\r\n  ContentList.view = function(v) {\r\n    let \r\n      { bookmarks , descMarked , remove} = v.attrs\r\n         \r\n    return (\r\n      // [ list -\r\n      m('.dsply-.-list',[\r\n        bookmarks.map((value,indx) => {\r\n          let \r\n            collapse_value = indx === txtIndx\r\n            , collapse = fc({\r\n              'fa-chevron-circle-down' : collapse_value && collapse_toggle ,\r\n              'fa-chevron-circle-right' : !(collapse_value && collapse_toggle)\r\n            })\r\n          if (value.description!=='') {\r\n            htmlDesc = value.description\r\n          }\r\n          return m.fragment({key:indx},[\r\n            m('div.fbx', { ...fc('-item','-item-border','ba','mv3') , 'data-id':indx } , [\r\n              m('span.btn-i',\r\n              {\r\n                onclick (e) {\r\n                  if (txtIndx === indx) {\r\n                    collapse_toggle = !collapse_toggle\r\n                  }\r\n                  else {\r\n                    collapse_toggle = true\r\n                  }\r\n                  txtIndx = indx\r\n                }\r\n              },[m('i.fas ',collapse)]) ,\r\n              m('span.mh3.mv1',{...fc('-url-span')}\r\n              ,[\r\n                m(`a[href=${value.url}][target=blank]`\r\n                ,{\r\n                  ...fc('-url')\r\n                }\r\n                ,[value.url])\r\n              ]) ,\r\n              m('span.btn-i'\r\n              ,{\r\n                ...fc('-remove') ,\r\n                'onclick' (e) {\r\n                  e.preventDefault()\r\n                  remove(indx)\r\n                }\r\n              },[m('i.fas.fa-trash-alt'),m(ToolTip,{'tip':'remove'})]) ,\r\n              \r\n              // previous line of collapse - remove to fix the remove alignment to the end\r\n\r\n            ]) ,\r\n\r\n            // [ collapse -\r\n            collapse_value && collapse_toggle\r\n                ? m('div',{...fc('-desc','ma3')},\r\n                  desc_toggle && indx === txtIndx\r\n                  ? [\r\n                      // m('span.btn-i',[m('i.fab.fa-markdown')]) ,\r\n                      m(MarkdownHelp) ,\r\n                      m('textarea',\r\n                      {\r\n                        value : txtDesc !== '...' ? txtDesc : '',\r\n                        ...fc('-desc-input','itxtarea') ,\r\n                        'onblur'(e) {\r\n                          e.preventDefault()\r\n                          htmlDesc = descMarked(txtDesc,indx)\r\n                          desc_toggle = !desc_toggle\r\n                        } ,\r\n                        'onkeyup' (e) {\r\n                          txtDesc = e.target.value\r\n                        }\r\n                      }) ,\r\n                      m('span.btn-i',[m('i.fas.fa-plus-circle.fr'),m.trust('<br/>')]) ,\r\n                    ]\r\n                  : [\r\n                      m('span'\r\n                      ,{\r\n                        ...fc('-desc-text') ,\r\n                        'onclick' (e) {\r\n                          e.preventDefault()\r\n                          // txtDesc = e.target.textContent\r\n                          txtDesc = value.rawDesc\r\n                          desc_toggle = !desc_toggle\r\n                        }\r\n                      },[value.description === ''? '...' : m.trust(htmlDesc)])\r\n                    ]\r\n                ) \r\n              : null\r\n              // - collapse ]\r\n\r\n          ])\r\n        })\r\n      ])\r\n      // - list ]\r\n    )\r\n  }\r\n  return ContentList\r\n}\r\n\r\nexport default ContentList","import m from 'mithril'\r\nimport b from 'bss'\r\nimport cfs from 'class-func-style'\r\n\r\nimport ContentList from './content-list.js'\r\nimport ToolTip from './util/tool-tip.js'\r\n\r\nfunction Content() {\r\n\r\n  let \r\n    txtInput = ''\r\n    , set_toggle = false\r\n    , fc = cfs({\r\n        '-header'             : b`color:gray;margin-left:2rem;margin-right:4rem;` ,\r\n        '-txt-input'          : b`width:60%;padding-right:8rem;box-sizing:border-box;` ,\r\n        '-i-bookmark-margin'  : b`background-color:white;margin-left:-8rem;margin-right:2rem;` ,\r\n        '-i-search-margin'    : b`background-color:white;margin-left:0rem;margin-right:2rem;` ,\r\n        '-i-settings-margin'  : b`margin-left:1rem;margin-right:1rem;` ,\r\n        '-btn-clear'          : b`min-width:6rem;`\r\n          .$media('(max-width:55rem)',b`display:none;opacity:0;`) ,\r\n      })\r\n\r\n  const \r\n    content = {}\r\n  content.view = function(v) {\r\n    let \r\n      { add , clear , descMarked , search , remove , reset , test , model } = v.attrs\r\n    return (\r\n      m('.content.fcl',[\r\n        // form -\r\n        m('.ctrl-.-form.bb.mv1.pv3', \r\n          [ \r\n            m('span'\r\n            ,{\r\n              ...fc('-header') ,\r\n              'onclick' (e) {\r\n                test()\r\n              }\r\n            },['URL Stack']) ,\r\n            // [ textinput -\r\n            m('span.mh3', [\r\n              m('input.itxt.mh3[type=text]'\r\n              ,{\r\n                ...fc('-txt-input') ,\r\n                'name':'txtInput' ,\r\n                'value':txtInput ,\r\n                'placeholder':'add or search url ...' ,\r\n                'onkeyup' (e) { \r\n                  txtInput = e.target.value\r\n                } ,\r\n                'onblur' (e) {\r\n                  if (e.target.value === '') {\r\n                    reset()\r\n                  }\r\n                }\r\n              }) ,\r\n              m('span.btn-i'\r\n              ,{\r\n                ...fc('-i-bookmark-margin') ,\r\n                'onclick' (e) { \r\n                  if (txtInput !== '') {\r\n                    add({'url':txtInput,'description':'','rawDesc':''})\r\n                    txtInput = ''\r\n                  }\r\n                }\r\n              },[\r\n                m('i.far.fa-bookmark'),m(ToolTip,{'tip':'bookmark'})\r\n              ]) ,\r\n              m('span.btn-i'\r\n              ,{\r\n                ...fc('-i-search-margin') ,\r\n                'onclick' (e) {\r\n                  search(txtInput)\r\n                }\r\n              },[\r\n                m('i.fas.fa-search'),m(ToolTip,{'tip':'search'})\r\n              ])\r\n            ]) ,\r\n            // - textinput ]\r\n            m('button.btn.mh3'\r\n            ,{\r\n              ...fc('-btn-clear') ,\r\n              'onclick' (e) {\r\n                clear()\r\n              }\r\n            }\r\n            ,['Clear']) ,\r\n            m('span.btn-i',\r\n            {\r\n              ...fc('-i-settings-margin') ,\r\n              'onclick' (e) {\r\n                set_toggle = !set_toggle\r\n              }\r\n            },[m('i.fas.fa-cog'),m(ToolTip,{'tip':'settings'})]) ,\r\n        ]) ,\r\n        // - form ]\r\n        // [ list -\r\n        m(ContentList,{'bookmarks':model.bookmarks,descMarked,remove})\r\n        // - list ]\r\n      ])\r\n    )\r\n  }\r\n\r\n  return content\r\n\r\n}\r\n\r\nexport default Content","import './style.js'\n\nimport m from 'mithril'\nimport b from 'bss'\n\nimport ac from './data/action-control'\n\nimport Menu from './components/menu.js'\nimport Content from './components/content.js'\n\nwindow.m = m\nb.setDebug(true)\n\nhljs.initHighlightingOnLoad();\n\n// const app = {\n//   view (v) {\n//     return m('.app.fbx', [\n//       m(Menu) ,\n//       m(Content,ac)\n//     ])\n//   }\n// }\n// m.mount(document.body, app)\n\nm.route(document.body, '/hrext', {\n  '/:data' : {\n    onmatch (args) {\n      if (ac.data === null || ac.data === undefined) {\n        ac.fetchData()\n      }\n      else {\n        ac.selectedData = args.data\n        ac.model = ac.data[ac.selectedData]\n        ac.reset()\n      }\n    } ,\n    render (v) {\n      return m('.app.fbx', [\n        m(Menu,\n          {\n            categories:Object.keys(ac.data) ,\n            newCategory : ac.newCategory ,\n            deleteCategory : ac.deleteCategory ,\n          }\n        ) ,\n        m(Content,ac)\n      ])\n    }\n  }\n})\n\n\n"],"names":["popular","ai","b","bc","br","bs","bi","c","d","f","fd","ff","fs","h","jc","l","lh","ls","m","mb","ml","mr","mt","o","p","pb","pl","pr","pt","r","t","ta","td","tt","w","cssProperties","concat","Object","keys","document","findWidth","obj","hasOwnProperty","getPrototypeOf","documentElement","style","filter","indexOf","isProp","memoize","fn","cache","item","add","prop","values","formatValues","value","Array","isArray","map","v","formatValue","join","split","vendorMap","create","vendorValuePrefix","vendorRegex","appendPx","el","createElement","setProperty","slice","err","flex","boxShadow","border","borderTop","borderRight","borderBottom","borderLeft","assign","obj2","key","hyphenToCamelCase","hyphen","charAt","replace","match","toUpperCase","objectToRules","selector","suffix","single","base","extra","rules","forEach","push","length","unshift","trim","stylesToCss","selectorSplit","reduce","acc","test","cssVar","camelCase","toLowerCase","propToString","isNaN","styleSheet","head","appendChild","sheet","debug","classes","count","classPrefix","Math","random","toString","insert","rule","index","textContent","insertRule","arguments","cssRules","e","shorts","bss","input","chain","__style","parse","apply","setProp","defineProperty","configurable","instance","newInstance","enumerable","get","this$1","this","addNest","properties","x","setter","prototype","call","addCss","helper","name","styling","result","isTagged","raw","short","acronym","defineProperties","writable","valueOf","class","props","content","keyframeCache","count$1","string","vendor","unprefixed","arg","set","__class","json","JSON","stringify","className","i","createClass","animation","$keyframes","stringToObject","prev","last","line","ref","tokens","sanitize","styles","args","str","Vnode","tag","attrs0","children0","text","dom","attrs","children","domSize","undefined","state","events","css","*,*+*,*:before,*:after","html","body","a","ul","td,th",".menu",".menu-header",".menu-header:hover",".app",".content",".ba",".bb",".btn",".btn:hover",".btn-i",".btn-i:hover",".itxt",".itxt:focus",".itxtarea",".itxtarea:focus",".fr",".mv1",".mh1",".ma3",".mh3",".mv3",".pv1",".pa3",".ph3",".pv3",".w-100",".w-90",".w-70",".w-58",".w-40",".tooltip",".fbx",".fcl",".c1",".c2",".c3",".c4",".c5",".c6","@media(max-width:35rem)","normalize","node","normalizeChildren","hyperscriptVnode","children1","attrs1","start","selectorParser","selectorCache","hasOwn","isEmpty","object","hyperscript","view","Error","vnode","hasClass","newAttrs","String","execSelector","exec","type","id","attrValue","compileSelector","trust","fragment","vnode2","PromisePolyfill","executor","TypeError","self","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","callAsync","setImmediate","setTimeout","list","shouldAbsorb","execute","then","console","error","retry","executeOnce","bind","runs","run","onerror","onFulfilled","onRejection","resolveNext","rejectNext","handle","callback","next","promise","resolve","reject","catch","finally","reason","all","total","consume","race","window","Promise","global","buildQueryString","destructure","encodeURIComponent","requestService","$window","oncompletion","callbackCount","makeRequest","factory","url","promise0","data","background","complete","wrap","then0","hasHeader","headers","interpolate","assemble","m0","querystring","request","method","useBody","assumeJSON","serialize","FormData","xhr","XMLHttpRequest","aborted","_abort","abort","open","async","user","password","setRequestHeader","deserialize","withCredentials","timeout","responseType","config","onreadystatechange","readyState","success","status","response","responseText","extract","code","send","jsonp","callbackName","round","script","parentNode","removeChild","src","callbackKey","setCompletionCallback","_12","coreRenderer","redraw0","$doc","nameSpace","svg","math","getNameSpace","vnode3","xmlns","checkState","original","callHook","activeElement","createNodes","parent","vnodes","end","hooks","nextSibling","ns","createNode","initLifecycle","createTextNode","insertNode","createText","createHTML","createDocumentFragment","children3","firstChild","childNodes","createFragment","attrs2","is","element","createElementNS","setAttr","setAttrs","contenteditable","setContentEditable","selectedIndex","normalized","setLateSelectAttrs","sentinel","$$reentrantLock$$","initComponent","createComponent","possibleParents","caption","thead","tbody","tfoot","tr","th","colgroup","col","match0","temp","innerHTML","child","updateNodes","old","removeNodes","oldStart","isOldKeyed","isKeyed","oe","ve","topSibling","oldEnd","updateNode","getNextSibling","toFragment","lisIndices","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","getKeyMap","oldIndex","u","il","j","makeLisIndices","commonLength","removeNode","oldTag","onbeforeupdate","force","shouldNotUpdate","updateLifecycle","nodeValue","updateText","updateHTML","updateFragment","val","removeAttr","updateAttrs","updateElement","updateComponent","count0","insertBefore","expected","called","onbeforeremove","continuation","onremove","isLifecycleMethod","attr","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","setAttribute","removeAttribute","nsLastIndex","uppercaseRegex","capital","normalizeKey","cssText","removeProperty","EventDict","removeEventListener","addEventListener","source","oninit","oncreate","onupdate","handleEvent","ev","handler0","currentTarget","redraw","preventDefault","stopPropagation","render","active","namespace","namespaceURI","focus","setRedraw","redrawService","throttleMock","renderService","callbacks","rendering","unsubscribe","splice","sync","pending","requestAnimationFrame","subscribe","_15","redrawService0","mount","root","component","run0","parseQueryString","entries","data2","counters","entry","key2","decodeURIComponent","value0","levels","cursor","pop","j0","level","nextLevel","isNumber","parseInt","isValue","coreRouter","asyncId","supportsPushState","history","pushState","callAsync0","fragment0","data1","location","parsePath","path","queryData","hashData","queryIndex","hashIndex","pathEnd","queryEnd","queryParams","key1","hashParams","router","prefix","getPath","setPath","options","match1","token","query","hash","title","onpopstate","replaceState","href","defineRoutes","routes","resolveRoute","params","pathname","k","route0","matcher","RegExp","onhashchange","route","render1","attrs3","currentPath","lastUpdate","routeService","defaultRoute","run1","redraw3","bail","payload","update","routeResolver","comp","v0","onmatch","resolved","data0","link","vnode5","onclick","ctrlKey","metaKey","shiftKey","which","getAttribute","args0","param","key0","_24","_31","version","const","block","newline","fences","noop","hr","heading","nptable","blockquote","def","table","lheading","paragraph","Lexer","links","marked","defaults","normal","pedantic","gfm","tables","_label","_title","edit","getRegex","bullet","_tag","_comment","merge","lex","top","loose","cap","bull","listStart","listItems","space","isordered","istask","ischecked","substring","rtrim","lang","depth","header","splitCells","align","cells","ordered","smartLists","task","checked","pre","sanitizer","charCodeAt","inline","escape","autolink","reflink","nolink","strong","em","del","InlineLexer","renderer","Renderer","breaks","TextRenderer","Parser","encode","escapeTest","escapeReplace","ch","replacements","escapeTestNoEncode","escapeReplaceNoEncode","unescape","_","n","fromCharCode","regex","opt","cleanUrl","prot","originIndependentUrl","baseUrls","resolveUrl","encodeURI","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","output","prevCapZero","out","mangle","inLink","inRawBlock","outputLink","escapes","codespan","smartypants","image","escaped","highlight","langPrefix","quote","headerIds","headerPrefix","xhtml","listitem","checkbox","tablerow","tablecell","flags","baseUrl","inlineText","reverse","tok","peek","parseText","row","cell","&","<",">","\"","'","target","tableRow","offset","curr","invert","suffLen","currChar","substr","done","message","silent","setOptions","getDefaults","parser","lexer","inlineLexer","module","hljs","highlightAuto","dm","sm","selectedData","stringe","updateLocalStorage","ac","isReady","isBusy","let","model","localStorage","getItem","log","setItem","bookmarks","descMarked","desc","idx","nhtml","description","rawDesc","search","term","includes","remove","indx","Number","clear","reset","ndata","newCategory","category","notes","slug","deleteCategory","fetchData","res","hasOwnProp","classesName","globalClass","classStyle","arr","classExists","subj","pushExisting","pushNew","innerArr","fc","cfs","-category-list","-category-input","$focus","-link","$hover","Menu","$media","onkeyup","keyCode","categories","targetCategory","parentElement","previousSibling","Content","handleToggle","modalNode","handleKeyup","presskey","27","handleClick","contains","-modal-overlay","-modal","-modal-close-btn","modal_toggle","modal_toggle_value","button","-tooltip-wrap","$nest","ToolTip","classList","tip","MarkdownHelp","Modal","label","ContentList","collapse_toggle","desc_toggle","txtDesc","htmlDesc","txtIndx","-desc","-desc-input","-item","-item-border","-remove","-url","-url-span","collapse_value","collapse","fa-chevron-circle-down","fa-chevron-circle-right","data-id","onblur","txtInput","-header","-txt-input","-i-bookmark-margin","-i-search-margin","-i-settings-margin","-btn-clear","placeholder","setDebug","initHighlightingOnLoad","/:data"],"mappings":"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"}